<?xml version="1.0"?>
<syntax name="sourcecode.ruby">
  <zones>
    
    <!-- ============ -->
    <!-- = Comments = -->
    <!-- ============ -->
    
    <!-- # A comment -->
    <zone name="comment.line.hash.ruby">
      <expression>(#).*$\n?</expression>
      <capture number="1" name="punctuation.definition.comment.line.begin"/>
    </zone>
    
    <!--
      =begin
      A comment block
      =end
    -->
    <zone name="comment.block.ruby">
      <starts-with>
        <expression>^(=begin).*$</expression>
        <capture number="0" name="punctuation.definition.comment.block.begin"/>
      </starts-with>
      <ends-with>
        <expression>^(=end).*$</expression>
        <capture number="0" name="punctuation.definition.comment.block.end"/>
      </ends-with>
    </zone>
    
    <!-- ========================== -->
    <!-- = Syntactical constructs = -->
    <!-- ========================== -->
    
    <!-- 'A single-quoted string' -->
    <zone name="sourcecode.string.quoted.single.ruby">
      <starts-with>
        <expression>'</expression>
        <capture number="0" name="punctuation.definition.string.begin.ruby"/>
      </starts-with>
      <ends-with>
        <expression>'</expression>
        <capture number="0" name="punctuation.definition.string.end.ruby"/>
      </ends-with>
      <subzones>
        <zone name="constant.character.escape.ruby">
          <expression>\\('|\\)</expression>
          <capture number="0" name="punctuation.definition.string.escape.ruby"/>
        </zone>
      </subzones>
    </zone>
    
    <!-- "A double-quoted string" -->
    <zone name="sourcecode.string.quoted.double.ruby">
      <starts-with>
        <expression>"</expression>
        <capture number="0" name="punctuation.definition.string.begin.ruby"/>
      </starts-with>
      <ends-with>
        <expression>"</expression>
        <capture number="0" name="punctuation.definition.string.end.ruby"/>
      </ends-with>
      <subzones>
        <zone name="constant.character.escape.ruby">
          <expression>\\(.)</expression>
          <capture number="0" name="punctuation.definition.string.escape.ruby"/>
        </zone>
      </subzones>
    </zone>
    
    <!-- ============ -->
    <!-- = Keywords = -->
    <!-- ============ -->
    
    <!-- true -->
    <zone name="constant.language.boolean.true.ruby">
      <expression>\btrue\b</expression>
    </zone>
    
    <!-- false -->
    <zone name="constant.language.boolean.false.ruby">
      <expression>\bfalse\b</expression>
    </zone>
    
  </zones>
</syntax>